{"ast":null,"code":"var _jsxFileName = \"/Users/zacharyjeffreys/Documents/GitHub/MealBuddy/src/components/MealPlanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, TextField, Button, Card, CardContent, CardMedia, Grid, Paper, CircularProgress, FormControl, Stack, Checkbox, FormGroup, FormControlLabel, Stepper, Step, StepLabel, StepContent, ToggleButton, ToggleButtonGroup, Chip, AppBar, Toolbar } from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport SendIcon from '@mui/icons-material/Send';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport RepeatIcon from '@mui/icons-material/Repeat';\nimport TodayIcon from '@mui/icons-material/Today';\nimport AddIcon from '@mui/icons-material/Add';\nimport { addDays, format, startOfToday, endOfToday } from 'date-fns';\nimport { generateMealPlan, getDietaryTags } from '../services/mealService';\nimport MealCard from './MealCard';\nimport AddMealForm from './AddMealForm';\n\n// Mock data for meal suggestions (replace with actual API calls later)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mockMeals = [{\n  id: 1,\n  name: 'Grilled Chicken Salad',\n  image: 'https://source.unsplash.com/random/400x300/?salad',\n  calories: 350,\n  time: '25 mins'\n}, {\n  id: 2,\n  name: 'Salmon with Quinoa',\n  image: 'https://source.unsplash.com/random/400x300/?salmon',\n  calories: 450,\n  time: '30 mins'\n}, {\n  id: 3,\n  name: 'Vegetarian Stir Fry',\n  image: 'https://source.unsplash.com/random/400x300/?stirfry',\n  calories: 300,\n  time: '20 mins'\n}];\nconst thinkingPhrases = [\"Analyzing your preferences...\", \"Exploring delicious options...\", \"Crafting your perfect meal plan...\", \"Considering nutritional balance...\", \"Finding the best recipes for you...\"];\nconst mealTypes = [{\n  id: 'breakfast',\n  label: 'Breakfast'\n}, {\n  id: 'lunch',\n  label: 'Lunch'\n}, {\n  id: 'dinner',\n  label: 'Dinner'\n}, {\n  id: 'snack',\n  label: 'Snacks'\n}];\nconst weekDays = [{\n  id: 'monday',\n  label: 'Mon'\n}, {\n  id: 'tuesday',\n  label: 'Tue'\n}, {\n  id: 'wednesday',\n  label: 'Wed'\n}, {\n  id: 'thursday',\n  label: 'Thu'\n}, {\n  id: 'friday',\n  label: 'Fri'\n}, {\n  id: 'saturday',\n  label: 'Sat'\n}, {\n  id: 'sunday',\n  label: 'Sun'\n}];\nfunction MealPlanner() {\n  _s();\n  const [activeStep, setActiveStep] = useState(0);\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState({\n    breakfast: false,\n    lunch: false,\n    dinner: false,\n    snack: false\n  });\n  const [planType, setPlanType] = useState('today');\n  const [startDate, setStartDate] = useState(startOfToday());\n  const [endDate, setEndDate] = useState(endOfToday());\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [thinkingText, setThinkingText] = useState('');\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0);\n  const [currentCharIndex, setCurrentCharIndex] = useState(0);\n  const [showAddMealForm, setShowAddMealForm] = useState(false);\n  const handlePlanTypeChange = (event, newType) => {\n    if (newType !== null) {\n      setPlanType(newType);\n      if (newType === 'today') {\n        setStartDate(startOfToday());\n        setEndDate(endOfToday());\n      } else if (newType === 'date-range') {\n        setStartDate(startOfToday());\n        setEndDate(addDays(startOfToday(), 7));\n      }\n    }\n  };\n  const handleDayToggle = day => {\n    setSelectedDays(prev => prev.includes(day) ? prev.filter(d => d !== day) : [...prev, day]);\n  };\n  const handleMealTypeChange = event => {\n    setSelectedMeals({\n      ...selectedMeals,\n      [event.target.name]: event.target.checked\n    });\n  };\n  const getSelectedMealTypes = () => {\n    return Object.entries(selectedMeals).filter(([_, isSelected]) => isSelected).map(([type]) => type);\n  };\n  const handleNext = () => {\n    setActiveStep(prevStep => prevStep + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prevStep => prevStep - 1);\n  };\n  useEffect(() => {\n    if (loading) {\n      const phraseInterval = setInterval(() => {\n        setCurrentPhraseIndex(prev => (prev + 1) % thinkingPhrases.length);\n        setCurrentCharIndex(0);\n      }, 2000);\n      const charInterval = setInterval(() => {\n        setCurrentCharIndex(prev => {\n          const currentPhrase = thinkingPhrases[currentPhraseIndex];\n          if (prev < currentPhrase.length) {\n            setThinkingText(currentPhrase.substring(0, prev + 1));\n            return prev + 1;\n          }\n          return prev;\n        });\n      }, 50);\n      return () => {\n        clearInterval(phraseInterval);\n        clearInterval(charInterval);\n      };\n    } else {\n      setThinkingText('');\n      setCurrentPhraseIndex(0);\n      setCurrentCharIndex(0);\n    }\n  }, [loading, currentPhraseIndex]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    // Generate dates array based on plan type\n    let dates = [];\n    if (planType === 'today') {\n      dates = [new Date()];\n    } else if (planType === 'date-range') {\n      let currentDate = new Date(startDate);\n      while (currentDate <= endDate) {\n        dates.push(new Date(currentDate));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    } else {\n      // For recurring weekly plan, use the next occurrence of each selected day\n      const today = new Date();\n      dates = selectedDays.map(day => {\n        const dayIndex = weekDays.findIndex(d => d.id === day);\n        const date = new Date(today);\n        const diff = (dayIndex + 7 - today.getDay()) % 7;\n        date.setDate(date.getDate() + diff);\n        return date;\n      });\n    }\n\n    // Get selected meal types\n    const selectedMealTypes = Object.entries(selectedMeals).filter(([_, isSelected]) => isSelected).map(([type]) => type);\n\n    // Generate meal plan\n    const plan = generateMealPlan({\n      selectedDates: dates,\n      selectedMealTypes,\n      preferences: prompt,\n      dietaryRestrictions: [],\n      // Could be added as a filter in the future\n      calorieTarget: null // Could be added as a filter in the future\n    });\n    setSuggestions(plan);\n    setLoading(false);\n  };\n  const handleAddMeal = newMeal => {\n    // Here you would typically make an API call to save the meal\n    // For now, we'll just console.log it\n    console.log('New meal to be added:', newMeal);\n    // You can add logic here to update the meals array\n    setShowAddMealForm(false);\n  };\n  const steps = [{\n    label: 'Choose When to Plan',\n    content: /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(ToggleButtonGroup, {\n        value: planType,\n        exclusive: true,\n        onChange: handlePlanTypeChange,\n        fullWidth: true,\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n          value: \"today\",\n          \"aria-label\": \"today\",\n          sx: {\n            py: 2,\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TodayIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n          value: \"date-range\",\n          \"aria-label\": \"date range\",\n          sx: {\n            py: 2,\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(CalendarMonthIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Date Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n          value: \"recurring\",\n          \"aria-label\": \"recurring\",\n          sx: {\n            py: 2,\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(RepeatIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Weekly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), planType === 'today' ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"primary\",\n          gutterBottom: true,\n          children: \"Planning for Today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: format(new Date(), 'EEEE, MMMM d, yyyy')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }, this) : planType === 'date-range' ? /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n        dateAdapter: AdapterDateFns,\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n            label: \"Start Date\",\n            value: startDate,\n            onChange: newValue => {\n              setStartDate(newValue);\n              setEndDate(addDays(newValue, 7));\n            },\n            disablePast: true,\n            slotProps: {\n              textField: {\n                fullWidth: true\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n            label: \"End Date\",\n            value: endDate,\n            onChange: newValue => setEndDate(newValue),\n            disablePast: true,\n            minDate: startDate,\n            slotProps: {\n              textField: {\n                fullWidth: true\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          gutterBottom: true,\n          children: \"Select days for your weekly meal plan:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1,\n            flexWrap: 'wrap',\n            justifyContent: 'center'\n          },\n          children: weekDays.map(day => /*#__PURE__*/_jsxDEV(Chip, {\n            label: day.label,\n            onClick: () => handleDayToggle(day.id),\n            color: \"primary\",\n            variant: selectedDays.includes(day.id) ? \"filled\" : \"outlined\",\n            sx: {\n              minWidth: '70px',\n              fontSize: '1rem'\n            }\n          }, day.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this)\n  }, {\n    label: 'Select Meal Types',\n    content: /*#__PURE__*/_jsxDEV(FormControl, {\n      component: \"fieldset\",\n      sx: {\n        width: '100%',\n        p: 2,\n        border: '1px solid',\n        borderColor: 'divider',\n        borderRadius: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: mealTypes.map(type => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            control: /*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: selectedMeals[type.id],\n              onChange: handleMealTypeChange,\n              name: type.id,\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 21\n            }, this),\n            label: type.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 17\n          }, this)\n        }, type.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this)\n  }, {\n    label: 'Describe Your Preferences',\n    content: /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      variant: \"outlined\",\n      placeholder: \"E.g., 'I want healthy vegetarian meals' or 'Quick protein-rich recipes'\",\n      value: prompt,\n      onChange: e => setPrompt(e.target.value),\n      multiline: true,\n      rows: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this)\n  }];\n  const isStepValid = step => {\n    switch (step) {\n      case 0:\n        if (planType === 'today') return true;\n        return planType === 'date-range' ? startDate && endDate && endDate >= startDate : selectedDays.length > 0;\n      case 1:\n        return Object.values(selectedMeals).some(Boolean);\n      case 2:\n        return prompt.trim().length > 0;\n      default:\n        return true;\n    }\n  };\n  if (showAddMealForm) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          mb: 3,\n          textAlign: 'center'\n        },\n        children: \"Add a New Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        sx: {\n          mb: 4,\n          textAlign: 'center'\n        },\n        children: \"MealBuddy is a community-driven platform. Share your favorite recipes with others!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddMealForm, {\n        onSubmit: handleAddMeal,\n        onCancel: () => setShowAddMealForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      pb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      color: \"transparent\",\n      elevation: 0,\n      sx: {\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        sx: {\n          justifyContent: 'flex-end'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 24\n          }, this),\n          onClick: () => setShowAddMealForm(true),\n          children: \"Add a Meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      sx: {\n        mb: 3,\n        textAlign: 'center',\n        fontSize: {\n          xs: '2.5rem',\n          md: '3.5rem'\n        }\n      },\n      children: \"Meal planning made easy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 4,\n        textAlign: 'center'\n      },\n      children: \"Tell us what you're looking for, and we'll create a personalized meal plan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      elevation: 2,\n      sx: {\n        p: 3,\n        maxWidth: 800,\n        mx: 'auto',\n        mb: 6,\n        borderRadius: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        orientation: \"vertical\",\n        children: steps.map((step, index) => /*#__PURE__*/_jsxDEV(Step, {\n          children: [/*#__PURE__*/_jsxDEV(StepLabel, {\n            children: step.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StepContent, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [step.content, /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2,\n                  display: 'flex',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: index === steps.length - 1 ? handleSubmit : handleNext,\n                  disabled: loading || !isStepValid(index),\n                  children: index === steps.length - 1 ? 'Generate Plan' : 'Continue'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 21\n                }, this), index > 0 && /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleBack,\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, step.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        mb: 4,\n        minHeight: '3em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"primary\",\n        sx: {\n          fontWeight: 500,\n          opacity: 0.9,\n          animation: 'pulse 1.5s infinite',\n          '@keyframes pulse': {\n            '0%': {\n              opacity: 0.6\n            },\n            '50%': {\n              opacity: 1\n            },\n            '100%': {\n              opacity: 0.6\n            }\n          }\n        },\n        children: thinkingText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 9\n    }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          mb: 3\n        },\n        children: \"Your Meal Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"text.secondary\",\n          children: planType === 'today' ? `Today, ${format(new Date(), 'MMMM d, yyyy')}` : planType === 'date-range' ? `${format(startDate, 'MMM d, yyyy')} - ${format(endDate, 'MMM d, yyyy')}` : `Weekly plan for: ${selectedDays.map(day => day.charAt(0).toUpperCase() + day.slice(1)).join(', ')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"text.secondary\",\n          children: [\"Selected meal types: \", getSelectedMealTypes().map(type => type.charAt(0).toUpperCase() + type.slice(1)).join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this), suggestions.map((dayPlan, index) => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            mb: 2\n          },\n          children: format(dayPlan.date, 'EEEE, MMMM d')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: Object.entries(dayPlan.meals).map(([mealType, meal]) => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 4,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"primary\",\n                children: mealType.charAt(0).toUpperCase() + mealType.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(MealCard, {\n              meal: meal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 21\n            }, this)]\n          }, `${dayPlan.date}-${mealType}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 448,\n    columnNumber: 5\n  }, this);\n}\n_s(MealPlanner, \"NaZx+xCm1PWdD/5AM4h1AaodHNc=\");\n_c = MealPlanner;\nexport default MealPlanner;\nvar _c;\n$RefreshReg$(_c, \"MealPlanner\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","TextField","Button","Card","CardContent","CardMedia","Grid","Paper","CircularProgress","FormControl","Stack","Checkbox","FormGroup","FormControlLabel","Stepper","Step","StepLabel","StepContent","ToggleButton","ToggleButtonGroup","Chip","AppBar","Toolbar","DatePicker","LocalizationProvider","AdapterDateFns","SendIcon","CalendarMonthIcon","RepeatIcon","TodayIcon","AddIcon","addDays","format","startOfToday","endOfToday","generateMealPlan","getDietaryTags","MealCard","AddMealForm","jsxDEV","_jsxDEV","mockMeals","id","name","image","calories","time","thinkingPhrases","mealTypes","label","weekDays","MealPlanner","_s","activeStep","setActiveStep","prompt","setPrompt","loading","setLoading","suggestions","setSuggestions","selectedMeals","setSelectedMeals","breakfast","lunch","dinner","snack","planType","setPlanType","startDate","setStartDate","endDate","setEndDate","selectedDays","setSelectedDays","thinkingText","setThinkingText","currentPhraseIndex","setCurrentPhraseIndex","currentCharIndex","setCurrentCharIndex","showAddMealForm","setShowAddMealForm","handlePlanTypeChange","event","newType","handleDayToggle","day","prev","includes","filter","d","handleMealTypeChange","target","checked","getSelectedMealTypes","Object","entries","_","isSelected","map","type","handleNext","prevStep","handleBack","phraseInterval","setInterval","length","charInterval","currentPhrase","substring","clearInterval","handleSubmit","e","preventDefault","dates","Date","currentDate","push","setDate","getDate","today","dayIndex","findIndex","date","diff","getDay","selectedMealTypes","plan","selectedDates","preferences","dietaryRestrictions","calorieTarget","handleAddMeal","newMeal","console","log","steps","content","spacing","children","value","exclusive","onChange","fullWidth","sx","mb","py","display","flexDirection","gap","fileName","_jsxFileName","lineNumber","columnNumber","variant","textAlign","color","gutterBottom","dateAdapter","newValue","disablePast","slotProps","textField","minDate","flexWrap","justifyContent","onClick","minWidth","fontSize","component","width","p","border","borderColor","borderRadius","container","item","xs","sm","control","placeholder","multiline","rows","isStepValid","step","values","some","Boolean","trim","onSubmit","onCancel","pb","position","elevation","startIcon","md","maxWidth","mx","orientation","index","mt","disabled","minHeight","alignItems","fontWeight","opacity","animation","charAt","toUpperCase","slice","join","dayPlan","meals","mealType","meal","_c","$RefreshReg$"],"sources":["/Users/zacharyjeffreys/Documents/GitHub/MealBuddy/src/components/MealPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  Grid,\n  Paper,\n  CircularProgress,\n  FormControl,\n  Stack,\n  Checkbox,\n  FormGroup,\n  FormControlLabel,\n  Stepper,\n  Step,\n  StepLabel,\n  StepContent,\n  ToggleButton,\n  ToggleButtonGroup,\n  Chip,\n  AppBar,\n  Toolbar,\n} from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport SendIcon from '@mui/icons-material/Send';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport RepeatIcon from '@mui/icons-material/Repeat';\nimport TodayIcon from '@mui/icons-material/Today';\nimport AddIcon from '@mui/icons-material/Add';\nimport { addDays, format, startOfToday, endOfToday } from 'date-fns';\nimport { generateMealPlan, getDietaryTags } from '../services/mealService';\nimport MealCard from './MealCard';\nimport AddMealForm from './AddMealForm';\n\n// Mock data for meal suggestions (replace with actual API calls later)\nconst mockMeals = [\n  {\n    id: 1,\n    name: 'Grilled Chicken Salad',\n    image: 'https://source.unsplash.com/random/400x300/?salad',\n    calories: 350,\n    time: '25 mins',\n  },\n  {\n    id: 2,\n    name: 'Salmon with Quinoa',\n    image: 'https://source.unsplash.com/random/400x300/?salmon',\n    calories: 450,\n    time: '30 mins',\n  },\n  {\n    id: 3,\n    name: 'Vegetarian Stir Fry',\n    image: 'https://source.unsplash.com/random/400x300/?stirfry',\n    calories: 300,\n    time: '20 mins',\n  },\n];\n\nconst thinkingPhrases = [\n  \"Analyzing your preferences...\",\n  \"Exploring delicious options...\",\n  \"Crafting your perfect meal plan...\",\n  \"Considering nutritional balance...\",\n  \"Finding the best recipes for you...\",\n];\n\nconst mealTypes = [\n  { id: 'breakfast', label: 'Breakfast' },\n  { id: 'lunch', label: 'Lunch' },\n  { id: 'dinner', label: 'Dinner' },\n  { id: 'snack', label: 'Snacks' },\n];\n\nconst weekDays = [\n  { id: 'monday', label: 'Mon' },\n  { id: 'tuesday', label: 'Tue' },\n  { id: 'wednesday', label: 'Wed' },\n  { id: 'thursday', label: 'Thu' },\n  { id: 'friday', label: 'Fri' },\n  { id: 'saturday', label: 'Sat' },\n  { id: 'sunday', label: 'Sun' },\n];\n\nfunction MealPlanner() {\n  const [activeStep, setActiveStep] = useState(0);\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState({\n    breakfast: false,\n    lunch: false,\n    dinner: false,\n    snack: false,\n  });\n  const [planType, setPlanType] = useState('today');\n  const [startDate, setStartDate] = useState(startOfToday());\n  const [endDate, setEndDate] = useState(endOfToday());\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [thinkingText, setThinkingText] = useState('');\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0);\n  const [currentCharIndex, setCurrentCharIndex] = useState(0);\n  const [showAddMealForm, setShowAddMealForm] = useState(false);\n\n  const handlePlanTypeChange = (event, newType) => {\n    if (newType !== null) {\n      setPlanType(newType);\n      if (newType === 'today') {\n        setStartDate(startOfToday());\n        setEndDate(endOfToday());\n      } else if (newType === 'date-range') {\n        setStartDate(startOfToday());\n        setEndDate(addDays(startOfToday(), 7));\n      }\n    }\n  };\n\n  const handleDayToggle = (day) => {\n    setSelectedDays(prev => \n      prev.includes(day)\n        ? prev.filter(d => d !== day)\n        : [...prev, day]\n    );\n  };\n\n  const handleMealTypeChange = (event) => {\n    setSelectedMeals({\n      ...selectedMeals,\n      [event.target.name]: event.target.checked,\n    });\n  };\n\n  const getSelectedMealTypes = () => {\n    return Object.entries(selectedMeals)\n      .filter(([_, isSelected]) => isSelected)\n      .map(([type]) => type);\n  };\n\n  const handleNext = () => {\n    setActiveStep((prevStep) => prevStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevStep) => prevStep - 1);\n  };\n\n  useEffect(() => {\n    if (loading) {\n      const phraseInterval = setInterval(() => {\n        setCurrentPhraseIndex((prev) => (prev + 1) % thinkingPhrases.length);\n        setCurrentCharIndex(0);\n      }, 2000);\n\n      const charInterval = setInterval(() => {\n        setCurrentCharIndex((prev) => {\n          const currentPhrase = thinkingPhrases[currentPhraseIndex];\n          if (prev < currentPhrase.length) {\n            setThinkingText(currentPhrase.substring(0, prev + 1));\n            return prev + 1;\n          }\n          return prev;\n        });\n      }, 50);\n\n      return () => {\n        clearInterval(phraseInterval);\n        clearInterval(charInterval);\n      };\n    } else {\n      setThinkingText('');\n      setCurrentPhraseIndex(0);\n      setCurrentCharIndex(0);\n    }\n  }, [loading, currentPhraseIndex]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    // Generate dates array based on plan type\n    let dates = [];\n    if (planType === 'today') {\n      dates = [new Date()];\n    } else if (planType === 'date-range') {\n      let currentDate = new Date(startDate);\n      while (currentDate <= endDate) {\n        dates.push(new Date(currentDate));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    } else {\n      // For recurring weekly plan, use the next occurrence of each selected day\n      const today = new Date();\n      dates = selectedDays.map(day => {\n        const dayIndex = weekDays.findIndex(d => d.id === day);\n        const date = new Date(today);\n        const diff = (dayIndex + 7 - today.getDay()) % 7;\n        date.setDate(date.getDate() + diff);\n        return date;\n      });\n    }\n\n    // Get selected meal types\n    const selectedMealTypes = Object.entries(selectedMeals)\n      .filter(([_, isSelected]) => isSelected)\n      .map(([type]) => type);\n\n    // Generate meal plan\n    const plan = generateMealPlan({\n      selectedDates: dates,\n      selectedMealTypes,\n      preferences: prompt,\n      dietaryRestrictions: [], // Could be added as a filter in the future\n      calorieTarget: null, // Could be added as a filter in the future\n    });\n\n    setSuggestions(plan);\n    setLoading(false);\n  };\n\n  const handleAddMeal = (newMeal) => {\n    // Here you would typically make an API call to save the meal\n    // For now, we'll just console.log it\n    console.log('New meal to be added:', newMeal);\n    // You can add logic here to update the meals array\n    setShowAddMealForm(false);\n  };\n\n  const steps = [\n    {\n      label: 'Choose When to Plan',\n      content: (\n        <Stack spacing={3}>\n          <ToggleButtonGroup\n            value={planType}\n            exclusive\n            onChange={handlePlanTypeChange}\n            fullWidth\n            sx={{ mb: 2 }}\n          >\n            <ToggleButton \n              value=\"today\" \n              aria-label=\"today\"\n              sx={{ \n                py: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 1\n              }}\n            >\n              <TodayIcon />\n              <Typography variant=\"body2\">Today</Typography>\n            </ToggleButton>\n            <ToggleButton \n              value=\"date-range\" \n              aria-label=\"date range\"\n              sx={{ \n                py: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 1\n              }}\n            >\n              <CalendarMonthIcon />\n              <Typography variant=\"body2\">Date Range</Typography>\n            </ToggleButton>\n            <ToggleButton \n              value=\"recurring\" \n              aria-label=\"recurring\"\n              sx={{ \n                py: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 1\n              }}\n            >\n              <RepeatIcon />\n              <Typography variant=\"body2\">Weekly</Typography>\n            </ToggleButton>\n          </ToggleButtonGroup>\n\n          {planType === 'today' ? (\n            <Box sx={{ textAlign: 'center' }}>\n              <Typography variant=\"h6\" color=\"primary\" gutterBottom>\n                Planning for Today\n              </Typography>\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                {format(new Date(), 'EEEE, MMMM d, yyyy')}\n              </Typography>\n            </Box>\n          ) : planType === 'date-range' ? (\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\n              <Stack spacing={2}>\n                <DatePicker\n                  label=\"Start Date\"\n                  value={startDate}\n                  onChange={(newValue) => {\n                    setStartDate(newValue);\n                    setEndDate(addDays(newValue, 7));\n                  }}\n                  disablePast\n                  slotProps={{\n                    textField: { fullWidth: true },\n                  }}\n                />\n                <DatePicker\n                  label=\"End Date\"\n                  value={endDate}\n                  onChange={(newValue) => setEndDate(newValue)}\n                  disablePast\n                  minDate={startDate}\n                  slotProps={{\n                    textField: { fullWidth: true },\n                  }}\n                />\n              </Stack>\n            </LocalizationProvider>\n          ) : (\n            <Box>\n              <Typography variant=\"subtitle1\" gutterBottom>\n                Select days for your weekly meal plan:\n              </Typography>\n              <Box \n                sx={{ \n                  display: 'flex', \n                  gap: 1, \n                  flexWrap: 'wrap',\n                  justifyContent: 'center'\n                }}\n              >\n                {weekDays.map((day) => (\n                  <Chip\n                    key={day.id}\n                    label={day.label}\n                    onClick={() => handleDayToggle(day.id)}\n                    color=\"primary\"\n                    variant={selectedDays.includes(day.id) ? \"filled\" : \"outlined\"}\n                    sx={{ \n                      minWidth: '70px',\n                      fontSize: '1rem',\n                    }}\n                  />\n                ))}\n              </Box>\n            </Box>\n          )}\n        </Stack>\n      ),\n    },\n    {\n      label: 'Select Meal Types',\n      content: (\n        <FormControl \n          component=\"fieldset\" \n          sx={{ \n            width: '100%',\n            p: 2, \n            border: '1px solid',\n            borderColor: 'divider',\n            borderRadius: 1\n          }}\n        >\n          <Grid container spacing={2}>\n            {mealTypes.map((type) => (\n              <Grid item xs={6} sm={3} key={type.id}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={selectedMeals[type.id]}\n                      onChange={handleMealTypeChange}\n                      name={type.id}\n                      color=\"primary\"\n                    />\n                  }\n                  label={type.label}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </FormControl>\n      ),\n    },\n    {\n      label: 'Describe Your Preferences',\n      content: (\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"E.g., 'I want healthy vegetarian meals' or 'Quick protein-rich recipes'\"\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          multiline\n          rows={3}\n        />\n      ),\n    },\n  ];\n\n  const isStepValid = (step) => {\n    switch (step) {\n      case 0:\n        if (planType === 'today') return true;\n        return planType === 'date-range' \n          ? (startDate && endDate && endDate >= startDate)\n          : selectedDays.length > 0;\n      case 1:\n        return Object.values(selectedMeals).some(Boolean);\n      case 2:\n        return prompt.trim().length > 0;\n      default:\n        return true;\n    }\n  };\n\n  if (showAddMealForm) {\n    return (\n      <Box sx={{ py: 4 }}>\n        <Typography\n          variant=\"h4\"\n          sx={{\n            mb: 3,\n            textAlign: 'center',\n          }}\n        >\n          Add a New Recipe\n        </Typography>\n        <Typography\n          variant=\"body1\"\n          color=\"text.secondary\"\n          sx={{ mb: 4, textAlign: 'center' }}\n        >\n          MealBuddy is a community-driven platform. Share your favorite recipes with others!\n        </Typography>\n        <AddMealForm \n          onSubmit={handleAddMeal}\n          onCancel={() => setShowAddMealForm(false)}\n        />\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ pb: 4 }}>\n      <AppBar \n        position=\"static\" \n        color=\"transparent\" \n        elevation={0}\n        sx={{ mb: 4 }}\n      >\n        <Toolbar sx={{ justifyContent: 'flex-end' }}>\n          <Button\n            variant=\"contained\"\n            startIcon={<AddIcon />}\n            onClick={() => setShowAddMealForm(true)}\n          >\n            Add a Meal\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Typography\n        variant=\"h1\"\n        sx={{\n          mb: 3,\n          textAlign: 'center',\n          fontSize: { xs: '2.5rem', md: '3.5rem' },\n        }}\n      >\n        Meal planning made easy\n      </Typography>\n      \n      <Typography\n        variant=\"h6\"\n        color=\"text.secondary\"\n        sx={{ mb: 4, textAlign: 'center' }}\n      >\n        Tell us what you're looking for, and we'll create a personalized meal plan\n      </Typography>\n\n      <Paper\n        component=\"form\"\n        onSubmit={handleSubmit}\n        elevation={2}\n        sx={{\n          p: 3,\n          maxWidth: 800,\n          mx: 'auto',\n          mb: 6,\n          borderRadius: 2,\n        }}\n      >\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\n          {steps.map((step, index) => (\n            <Step key={step.label}>\n              <StepLabel>{step.label}</StepLabel>\n              <StepContent>\n                <Box sx={{ mb: 2 }}>\n                  {step.content}\n                  <Box sx={{ mt: 2, display: 'flex', gap: 1 }}>\n                    <Button\n                      variant=\"contained\"\n                      onClick={index === steps.length - 1 ? handleSubmit : handleNext}\n                      disabled={loading || !isStepValid(index)}\n                    >\n                      {index === steps.length - 1 ? 'Generate Plan' : 'Continue'}\n                    </Button>\n                    {index > 0 && (\n                      <Button onClick={handleBack}>\n                        Back\n                      </Button>\n                    )}\n                  </Box>\n                </Box>\n              </StepContent>\n            </Step>\n          ))}\n        </Stepper>\n      </Paper>\n\n      {loading && (\n        <Box\n          sx={{\n            textAlign: 'center',\n            mb: 4,\n            minHeight: '3em',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          <Typography\n            variant=\"h6\"\n            color=\"primary\"\n            sx={{\n              fontWeight: 500,\n              opacity: 0.9,\n              animation: 'pulse 1.5s infinite',\n              '@keyframes pulse': {\n                '0%': { opacity: 0.6 },\n                '50%': { opacity: 1 },\n                '100%': { opacity: 0.6 },\n              },\n            }}\n          >\n            {thinkingText}\n          </Typography>\n        </Box>\n      )}\n\n      {suggestions.length > 0 && (\n        <Box>\n          <Typography variant=\"h5\" sx={{ mb: 3 }}>\n            Your Meal Plan\n          </Typography>\n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"subtitle1\" color=\"text.secondary\">\n              {planType === 'today' \n                ? `Today, ${format(new Date(), 'MMMM d, yyyy')}`\n                : planType === 'date-range'\n                  ? `${format(startDate, 'MMM d, yyyy')} - ${format(endDate, 'MMM d, yyyy')}`\n                  : `Weekly plan for: ${selectedDays.map(day => \n                      day.charAt(0).toUpperCase() + day.slice(1)\n                    ).join(', ')}`\n              }\n            </Typography>\n            <Typography variant=\"subtitle1\" color=\"text.secondary\">\n              Selected meal types: {getSelectedMealTypes().map(type => \n                type.charAt(0).toUpperCase() + type.slice(1)\n              ).join(', ')}\n            </Typography>\n          </Box>\n\n          {suggestions.map((dayPlan, index) => (\n            <Box key={index} sx={{ mb: 4 }}>\n              <Typography variant=\"h6\" sx={{ mb: 2 }}>\n                {format(dayPlan.date, 'EEEE, MMMM d')}\n              </Typography>\n              <Grid container spacing={3}>\n                {Object.entries(dayPlan.meals).map(([mealType, meal]) => (\n                  <Grid item xs={12} sm={6} md={4} key={`${dayPlan.date}-${mealType}`}>\n                    <Box sx={{ mb: 1 }}>\n                      <Typography variant=\"subtitle2\" color=\"primary\">\n                        {mealType.charAt(0).toUpperCase() + mealType.slice(1)}\n                      </Typography>\n                    </Box>\n                    <MealCard meal={meal} />\n                  </Grid>\n                ))}\n              </Grid>\n            </Box>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nexport default MealPlanner; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}